<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.side_on.dao.RecruitDao">

 	<!--1. 모집 게시글 등록하기-->
	<insert id="insertRecruitBoard" parameterType="com.side_on.dto.RecruitBoard">
		insert into Recruit
		values(Recruit_SEQ.nextval, #{memberId}, #{hit}, #{start_date}, #{end_date}, #{title}, #{content},
		#{save_date}, #{pay_check}, #{pay_amount}, #{visible_check}, #{simple_info}, #{pj_content},
		#{project_name}, #{Front}, #{Back}, #{aos}, #{ios}, #{uxui}, #{plan}, #{pm})
	</insert>
		<!-- 게시판 목록(페이징 적용)  public List<QnABoard> getListPaging(Criteria cri) -->
	<select id="getListPaging" resultType="com.side_on.dto.RecruitBoard">
    
    <![CDATA[
		select Recruit_num, memberId, title from (
		select  rownum as rn,Recruit_num, title, memberId, QNABOARD_DATE, QNABOARD_VIEWS
		from QnABoard where rownum <= #{pageNum} * #{amount}
    ]]>
	<if test="keyword != null">
                    <include refid="criteria"></include> 
                </if>
    <![CDATA[
                )
        where rn > (#{pageNum} -1) * #{amount}
    ]]>	    
    </select>
    
 	<!-- 게시물 총 갯수  public int getTotal(Criteria cri) -->
    <select id="getTotal" resultType="int">
        select count(*) from recruit
    </select>
    

	
		<!--2. 게시글 총 갯수 -->

		
		<!--3. 게시글 페이징 -->
		
	
</mapper>